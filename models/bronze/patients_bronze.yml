models:
  - name: patients_bronze
    description: Contains personal information including name, date of birth, and postal code.
    columns:
      - name: PATIENT_ID
        data_tests:
          - not_null    
          - relationships:
              to: ref('patients')
              field: PATIENTID
      - name: NAME
        description: The name of the patient.
        tests:
          - not_null:                     # Name should not be null.
              severity: warn
      
      - name: DATE_OF_BIRTH
        tests:
          - not_null
          - dbt_expectations.expect_column_values_to_be_in_type_list:
                column_type_list: ['date']   

      - name: POSTAL_CODE
        description: The postal code of the patient.
        tests:
          - not_null:                     
              severity: warn
          - dbt_expectations.expect_column_value_lengths_to_be_between: # Test can be used to add a min_value also for better validation
              max_value: 10